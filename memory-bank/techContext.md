# シンプル文字起こしツール 技術コンテキスト

## 使用技術

### コア技術
- **Python 3.7+**: アプリケーションの基本フレームワーク
- **Tkinter**: GUIインターフェース構築のためのPythonの標準ライブラリ
- **whisper-standalone-win**: OpenAI Whisperモデルのスタンドアロン実装
  - CPU処理に最適化されたバージョン（GPUなしでも動作可能）
  - FFmpegが内蔵されたWindows向けの最適化ライブラリ
- **PyInstaller**: Pythonアプリケーションを単一の実行ファイルにパッケージング

### 依存関係管理
- **pip**: Pythonパッケージのインストールと管理に使用
- **requirements.txt**: 必要なパッケージを定義

## 開発環境
- **対応OS**: Windows 10以降（主要ターゲット）
- **Python環境**: Python 3.7以降
- **エディタ/IDE**: 任意のテキストエディタまたはPython IDE
- **バージョン管理**: Git

## ビルド環境
- **PyInstaller**: `--onefile` および `--windowed` オプションを使用して単一の実行ファイルを生成
- **ビルドスクリプト**: `build.py` でビルドプロセスを自動化

## 技術的制約
- **メモリ消費**: 大きなモデル（mediumなど）は相当量のメモリを必要とする
- **処理速度**: モデルサイズと処理対象ファイルの長さに応じて処理時間が変動
- **初回実行時のモデルダウンロード**: 初回実行時にインターネット接続が必要
- **ファイルサイズの制限**: 非常に大きな音声/動画ファイルはメモリ制約により処理できない場合がある

## パフォーマンス考慮事項
- **モデルサイズの選択**:
  - tiny: 約75MB、最も高速だが精度は低め
  - base: 約150MB、比較的高速で基本的な精度
  - small: 約500MB、バランスの取れた速度と精度
  - medium: 約1.5GB、最も高精度だが処理速度は遅い
- **CPU使用率**: 文字起こし処理中はCPU使用率が高くなる
- **メモリ使用量**: モデルサイズによって異なる（tiny: ~200MB、medium: ~2GB程度）

## 実装における重要ポイント
- **非同期処理**: 文字起こし処理は別スレッドで実行し、UIをフリーズさせない
- **モデルの自動ダウンロード**: 初回使用時に必要なモデルファイルを自動的にダウンロード
- **進捗表示**: 長時間の処理におけるユーザーフィードバックの提供
- **エラーハンドリング**: 一般的なエラーを適切に捕捉し、ユーザーフレンドリーなメッセージを表示

## デプロイメント
- **配布方法**:
  - ソースコードからの実行（Python環境が必要）
  - 単一の実行ファイル（`.exe`）として配布
- **依存関係の扱い**: 必要なライブラリはPyInstallerによって実行ファイルに組み込まれる
- **モデルファイルの扱い**: 初回実行時に自動ダウンロード（~/.cache/whisper/ディレクトリに保存）
